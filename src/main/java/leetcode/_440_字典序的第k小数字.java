package leetcode;

public class _440_å­—å…¸åºçš„ç¬¬kå°æ•°å­— {
    //ç»™å®šæ•´æ•° n å’Œ kï¼Œæ‰¾åˆ° 1 åˆ° n ä¸­å­—å…¸åºç¬¬ k å°çš„æ•°å­—ã€‚
//
// æ³¨æ„ï¼š1 â‰¤ k â‰¤ n â‰¤ 109ã€‚
//
// ç¤ºä¾‹ :
//
//
//è¾“å…¥:
//n: 13   k: 2
//
//è¾“å‡º:
//10
//
//è§£é‡Š:
//å­—å…¸åºçš„æ’åˆ—æ˜¯ [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]ï¼Œæ‰€ä»¥ç¬¬äºŒå°çš„æ•°å­—æ˜¯ 10ã€‚
//
// ğŸ‘ 163 ğŸ‘ 0

    static class Solution {
        /**
         * é—®é¢˜å»ºæ¨¡ï¼š
         * æ¯ä¸€ä¸ªç»“ç‚¹éƒ½æ‹¥æœ‰10ä¸ªå­©å­ç»“ç‚¹ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªå‰ç¼€ï¼Œå®ƒåé¢å¯ä»¥æ¥0-9ä¸ªæ•°ï¼Œå¯ä»¥å‘ç°æœ€ç»ˆçš„ç»“æœå°±æ˜¯å¯¹è¿™æ£µ10å‰æ•°è¿›è¡Œå‰åºéå†ã€‚
         * å…³é”®é—®é¢˜åœ¨äºï¼š
         * 1. å¦‚ä½•ç¡®å®šä¸€ä¸ªå‰ç¼€ä¸‹æ‰€æœ‰å­ç»“ç‚¹çš„ä¸ªæ•°ï¼Ÿ
         * 2. å¦‚ä½•ç¡®å®šç¬¬kä¸ªæ•°åœ¨å½“å‰çš„å‰ç¼€ä¸‹ï¼Œæ€ä¹ˆç»§ç»­å¾€ä¸‹é¢çš„å­ç»“ç‚¹æŸ¥æ‰¾ï¼Ÿ
         * 3. å¦‚æœç¬¬kä¸ªæ•°ä¸åœ¨å½“å‰çš„å‰ç¼€ï¼Œå³å½“å‰çš„å‰ç¼€æ¯”è¾ƒå°ï¼Œå¦‚ä½•æ‰©å¤§å‰ç¼€ï¼Œå¢å¤§å¯»æ‰¾çš„èŒƒå›´ï¼Ÿ
         * @param n
         * @param k
         * @return
         */
        public int findKthNumber(int n, int k) {
            int cur = 1;
            k = k-1;
            while (k>0){
                //è®¡ç®—å‰ç¼€ä¹‹å‰çš„stepæ•°
                int steps = getStep(n, cur, cur+1);
                //åœ¨å­æ ‘ä¸­
                if(steps > k){
                    cur *= 10;
                    //å¤šäº†ä¸€ä¸ªç¡®å®šç»“ç‚¹ï¼Œç»§ç»­k-1
                    k -= 1;
                }else {
                    //ç¬¬kä¸ªæ•°ä¸åœ¨ä»¥curä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ä¸Š

                    //curåœ¨å­—å…¸åºæ•°ç»„ä¸­ä»å·¦å¾€å³ç§»åŠ¨
                    cur += 1;
                    k -= steps;
                }
            }
            return cur;
        }

        private int getStep(int n, long cur, long next){
            int steps = 0;
            while(cur <= n){
                //æ¯”å¦‚næ˜¯195çš„æƒ…å†µ195åˆ°100æœ‰96ä¸ªæ•°
                steps += Math.min( n+1, next) - cur;
                cur *= 10;
                next *= 10;
            }
            return steps;
        }
    }
}
