package leetcode.tree;
//ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæˆ‘ä»¬åœ¨æ ‘çš„èŠ‚ç‚¹ä¸Šå®‰è£…æ‘„åƒå¤´ã€‚
//
// èŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªæ‘„å½±å¤´éƒ½å¯ä»¥ç›‘è§†å…¶çˆ¶å¯¹è±¡ã€è‡ªèº«åŠå…¶ç›´æ¥å­å¯¹è±¡ã€‚
//
// è®¡ç®—ç›‘æ§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ‰€éœ€çš„æœ€å°æ‘„åƒå¤´æ•°é‡ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//
// è¾“å…¥ï¼š[0,0,null,0,0]
//è¾“å‡ºï¼š1
//è§£é‡Šï¼šå¦‚å›¾æ‰€ç¤ºï¼Œä¸€å°æ‘„åƒå¤´è¶³ä»¥ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
//
//
// è¾“å…¥ï¼š[0,0,null,0,null,0,null,null,0]
//è¾“å‡ºï¼š2
//è§£é‡Šï¼šéœ€è¦è‡³å°‘ä¸¤ä¸ªæ‘„åƒå¤´æ¥ç›‘è§†æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸Šå›¾æ˜¾ç¤ºäº†æ‘„åƒå¤´æ”¾ç½®çš„æœ‰æ•ˆä½ç½®ä¹‹ä¸€ã€‚
//
//
// æç¤ºï¼š
//
//
// ç»™å®šæ ‘çš„èŠ‚ç‚¹æ•°çš„èŒƒå›´æ˜¯ [1, 1000]ã€‚
// æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ 0ã€‚
//
//
// Related Topics æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ åŠ¨æ€è§„åˆ’ äºŒå‰æ ‘ ğŸ‘ 478 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)

/**
 * @author mayanwei
 * @date 2022-09-15.
 */
public class _968_ç›‘æ§äºŒå‰æ ‘{
    /**
     * æ—¶é—´å¤æ‚åº¦ O(n)
     * ç©ºé—´è´Ÿè½½åº¦ O(n)
     */
    class Solution{
        public int minCameraCover(TreeNode root) {
            int[] array = dfs(root);
            return array[1];
        }

        public int[] dfs(TreeNode root) {
            if (root == null) {
                return new int[]{Integer.MAX_VALUE >> 1, 0, 0};
            }
            int[] leftArr = dfs(root.left);
            int[] rightArr = dfs(root.right);
            // ååºéå†çš„ä½ç½®
            int[] arr = new int[3];
            // çŠ¶æ€a : root å¿…é¡»æ”¾ç½®æ‘„åƒå¤´çš„æƒ…å†µä¸‹ï¼Œè¦†ç›–æ•´é¢—æ ‘éœ€è¦çš„æ‘„åƒå¤´æ•°ç›®
            arr[0] = leftArr[2] + rightArr[2] + 1;
            // çŠ¶æ€b : è¦†ç›–æ•´é¢—æ ‘éœ€è¦çš„æ‘„åƒå¤´æ•°ç›®ï¼Œæ— è®º root æ˜¯å¦æ”¾ç½®æ‘„åƒå¤´
            arr[1] = Math.min(arr[0], Math.min(leftArr[0] + rightArr[1], rightArr[0] + leftArr[1]));
            // çŠ¶æ€c : è¦†ç›–ä¸¤æ£µå­æ ‘éœ€è¦çš„æ‘„åƒå¤´æ•°ç›®ï¼Œæ— è®ºèŠ‚ç‚¹root æœ¬èº«æ˜¯å¦è¢«ç›‘æ§åˆ°
            arr[2] = Math.min(arr[0], leftArr[1] + rightArr[1]);
            return arr;
        }
    }
}
